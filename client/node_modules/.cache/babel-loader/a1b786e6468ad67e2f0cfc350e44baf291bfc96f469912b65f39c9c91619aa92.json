{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\igorl\\\\Downloads\\\\place-to-stay-part2\\\\client\\\\src\\\\components\\\\addGear\\\\addImages\\\\ImagesList.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { IconButton, ImageList, ImageListItem, ImageListItemBar } from '@mui/material';\nimport { useValue } from '../../../context/ContextProvider';\nimport { Cancel } from '@mui/icons-material';\nimport deleteFile from '../../../firebase/deleteFile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImagesList = () => {\n  _s();\n  const {\n    state: {\n      images,\n      currentUser\n    },\n    dispatch\n  } = useValue();\n  const handleDelete = async image => {\n    var _image$split$;\n    dispatch({\n      type: 'DELETE_IMAGE',\n      payload: image\n    });\n    const imageName = image === null || image === void 0 ? void 0 : (_image$split$ = image.split(`${currentUser === null || currentUser === void 0 ? void 0 : currentUser.id}%2F`)[1]) === null || _image$split$ === void 0 ? void 0 : _image$split$.split('?')[0];\n    try {\n      await deleteFile(`gears/${currentUser === null || currentUser === void 0 ? void 0 : currentUser.id}/${imageName}`);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ImageList, {\n    rowHeight: 200,\n    sx: {\n      '&.MuiImageList-root': {\n        gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))!important'\n      }\n    },\n    children: images.map((image, index) => /*#__PURE__*/_jsxDEV(ImageListItem, {\n      cols: 1,\n      rows: 1,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: \"gears\",\n        loading: \"lazy\",\n        style: {\n          height: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ImageListItemBar, {\n        position: \"top\",\n        sx: {\n          background: 'linear-gradient(to bottom, rgba(0,0,0,0.7)0%, rgba(0,0,0,0.3)70%,rgba(0,0,0,0)100%,)'\n        },\n        actionIcon: /*#__PURE__*/_jsxDEV(IconButton, {\n          sx: {\n            color: 'white'\n          },\n          onClick: () => handleDelete(image),\n          children: /*#__PURE__*/_jsxDEV(Cancel, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n};\n_s(ImagesList, \"4nZuUXZ2Ce0FSMHH1d3lfIWYuFA=\", false, function () {\n  return [useValue];\n});\n_c = ImagesList;\nexport default ImagesList;\nvar _c;\n$RefreshReg$(_c, \"ImagesList\");","map":{"version":3,"names":["React","IconButton","ImageList","ImageListItem","ImageListItemBar","useValue","Cancel","deleteFile","jsxDEV","_jsxDEV","ImagesList","_s","state","images","currentUser","dispatch","handleDelete","image","_image$split$","type","payload","imageName","split","id","error","console","log","rowHeight","sx","gridTemplateColumns","children","map","index","cols","rows","src","alt","loading","style","height","fileName","_jsxFileName","lineNumber","columnNumber","position","background","actionIcon","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/igorl/Downloads/place-to-stay-part2/client/src/components/addGear/addImages/ImagesList.js"],"sourcesContent":["import React from 'react'\r\nimport { IconButton, ImageList, ImageListItem, ImageListItemBar } from '@mui/material'\r\nimport { useValue } from '../../../context/ContextProvider'\r\nimport { Cancel } from '@mui/icons-material'\r\nimport deleteFile from '../../../firebase/deleteFile'\r\n\r\nconst ImagesList = () => {\r\n    const {state:{images, currentUser}, dispatch} = useValue();\r\n    const handleDelete = async(image)=>{\r\n        dispatch({type:'DELETE_IMAGE', payload:image});\r\n        const imageName = image?.split(`${currentUser?.id}%2F`)[1]?.split('?')[0]\r\n        try{\r\n            await deleteFile(`gears/${currentUser?.id}/${imageName}`);\r\n        }catch(error){\r\n            console.log(error);\r\n        }\r\n    };\r\n  return (\r\n    <ImageList \r\n        rowHeight={200} \r\n        sx={{\r\n            '&.MuiImageList-root':{\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))!important',\r\n            },\r\n        }}\r\n    >\r\n        {images.map((\r\n            image,\r\n            index\r\n        )=>(\r\n            <ImageListItem key={index} cols={1} rows={1}>\r\n                <img src={image} alt=\"gears\" loading='lazy' style={{height:'100%'}}/>\r\n                <ImageListItemBar\r\n                    position='top'\r\n                    sx={{\r\n                        background:'linear-gradient(to bottom, rgba(0,0,0,0.7)0%, rgba(0,0,0,0.3)70%,rgba(0,0,0,0)100%,)',\r\n                    }}\r\n                    actionIcon={\r\n                        <IconButton\r\n                            sx={{color:'white'}}\r\n                            onClick={()=>handleDelete(image)}\r\n                        >\r\n                            <Cancel/>\r\n                        </IconButton>\r\n                    }\r\n                >\r\n                </ImageListItemBar>\r\n            </ImageListItem>\r\n        ))}\r\n    </ImageList>\r\n  )\r\n}\r\n\r\nexport default ImagesList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}