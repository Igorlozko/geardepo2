{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\igorl\\\\Downloads\\\\place-to-stay-part2\\\\client\\\\src\\\\components\\\\user\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { useValue } from '../../context/ContextProvider';\nimport { Avatar, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton, TextField } from '@mui/material';\nimport { Close, Send } from '@mui/icons-material';\nimport { Button } from '@mui/material';\nimport { updateProfile } from '../../actions/user';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    state: {\n      profile,\n      currentUser\n    },\n    dispatch\n  } = useValue();\n  const nameRef = useRef();\n  const handleClose = () => {\n    dispatch({\n      type: 'UPDATE_PROFILE',\n      payload: {\n        ...profile,\n        open: false\n      }\n    });\n  };\n  const handleChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const photoURL = URL.createObjectURL(file);\n      dispatch({\n        type: 'UPDATE_PROFILE',\n        payload: {\n          ...profile,\n          file: file,\n          photoURL: photoURL\n        }\n      });\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const name = nameRef.current.value;\n    updateProfile(currentUser, {\n      name,\n      file: profile.file\n    }, dispatch);\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: profile.open,\n    onClose: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: [\"Profile\", /*#__PURE__*/_jsxDEV(IconButton, {\n        sx: {\n          position: 'absolute',\n          top: 8,\n          right: 8,\n          color: theme => theme.palette.grey[500]\n        },\n        onClick: handleClose,\n        children: /*#__PURE__*/_jsxDEV(Close, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Update your profile by updating the fields:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"normal\",\n          variant: \"standard\",\n          id: \"name\",\n          label: \"Name\",\n          type: \"text\",\n          fullWidth: true,\n          inputRef: nameRef,\n          inputProps: {\n            minLength: 2\n          },\n          required: true,\n          defaultValue: currentUser === null || currentUser === void 0 ? void 0 : currentUser.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"profilePhoto\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            accept: \"image/*\",\n            id: \"profilePhoto\",\n            type: \"file\",\n            style: {\n              display: 'none'\n            },\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n            src: profile.photoURL,\n            sx: {\n              width: 75,\n              height: 75,\n              cursor: 'pointer'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        sx: {\n          px: '19px',\n          justifyContent: 'flex-end'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          endIcon: /*#__PURE__*/_jsxDEV(Send, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 26\n          }, this)\n          /* eslint-disable */,\n          sx: {\n            textTransform: 'uppercase',\n            fontWeight: 'bold',\n            fontSize: '14px',\n            letterSpacing: '1px',\n            borderRadius: '4px',\n            boxShadow: 'none',\n            '&:hover': {\n              backgroundColor: '#1565c0' // Change the hover background color\n            }\n          },\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"6irF7uiY/vetOYFCF8u4UCK3s5s=\", false, function () {\n  return [useValue];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useRef","useValue","Avatar","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","IconButton","TextField","Close","Send","Button","updateProfile","jsxDEV","_jsxDEV","Profile","_s","state","profile","currentUser","dispatch","nameRef","handleClose","type","payload","open","handleChange","e","file","target","files","photoURL","URL","createObjectURL","handleSubmit","preventDefault","name","current","value","onClose","children","sx","position","top","right","color","theme","palette","grey","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","dividers","autoFocus","margin","variant","id","label","fullWidth","inputRef","inputProps","minLength","required","defaultValue","htmlFor","accept","style","display","onChange","src","width","height","cursor","px","justifyContent","endIcon","textTransform","fontWeight","fontSize","letterSpacing","borderRadius","boxShadow","backgroundColor","_c","$RefreshReg$"],"sources":["C:/Users/igorl/Downloads/place-to-stay-part2/client/src/components/user/Profile.js"],"sourcesContent":["import React, { useRef } from 'react'\r\nimport { useValue } from '../../context/ContextProvider'\r\nimport { Avatar, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton, TextField } from '@mui/material'\r\nimport { Close, Send } from '@mui/icons-material'\r\nimport {Button} from '@mui/material'\r\nimport { updateProfile } from '../../actions/user'\r\n\r\nconst Profile = () => {\r\n    const {state:{profile, currentUser}, dispatch} = useValue()\r\n    const nameRef = useRef();\r\n    \r\n    const handleClose = ()=>{\r\n        dispatch({type: 'UPDATE_PROFILE', payload:{...profile, open:false}})\r\n    }\r\n    const handleChange = (e) => {\r\n        const file = e.target.files[0];\r\n        \r\n        if (file) {\r\n            const photoURL = URL.createObjectURL(file);\r\n            dispatch({\r\n                type: 'UPDATE_PROFILE',\r\n                payload: { ...profile, file: file, photoURL: photoURL },\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleSubmit =(e) =>{\r\n        e.preventDefault();\r\n        const name = nameRef.current.value;\r\n        updateProfile(currentUser, {name, file:profile.file}, dispatch);\r\n    }\r\n  return (\r\n    <Dialog open={profile.open} onClose={handleClose}>\r\n    <DialogTitle>\r\n      Profile\r\n      <IconButton\r\n        sx={{\r\n          position: 'absolute',\r\n          top: 8,\r\n          right: 8,\r\n          color: (theme) => theme.palette.grey[500],\r\n        }}\r\n        onClick={handleClose}\r\n      >\r\n        <Close />\r\n      </IconButton>\r\n    </DialogTitle>\r\n    <form onSubmit={handleSubmit}>\r\n      <DialogContent dividers>\r\n        <DialogContentText>\r\n          Update your profile by updating the fields:\r\n        </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"normal\"\r\n            variant=\"standard\"\r\n            id=\"name\"\r\n            label=\"Name\"\r\n            type=\"text\"\r\n            fullWidth\r\n            inputRef={nameRef}\r\n            inputProps={{ minLength: 2 }}\r\n            required\r\n            defaultValue={currentUser?.name}\r\n          />\r\n          <label htmlFor='profilePhoto'>\r\n                <input\r\n                    accept='image/*'\r\n                    id='profilePhoto'\r\n                    type='file'\r\n                    style={{ display: 'none' }}\r\n                    onChange={handleChange} \r\n                />\r\n                <Avatar\r\n                    src={profile.photoURL}\r\n                    sx={{ width: 75, height: 75, cursor: 'pointer' }}\r\n                />\r\n          </label>\r\n      </DialogContent>\r\n      <DialogActions sx={{ px: '19px', justifyContent: 'flex-end' }}>\r\n            <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                endIcon={<Send />}\r\n                /* eslint-disable */\r\n                sx={{\r\n                    textTransform: 'uppercase',\r\n                    fontWeight: 'bold',\r\n                    fontSize: '14px',\r\n                    letterSpacing: '1px',\r\n                    borderRadius: '4px',\r\n                    boxShadow: 'none',\r\n                    '&:hover': {\r\n                        backgroundColor: '#1565c0',  // Change the hover background color\r\n                },\r\n            }}\r\n            >\r\n                Update\r\n            </Button>\r\n      </DialogActions>\r\n    </form>\r\n  </Dialog>\r\n  )\r\n}\r\n\r\nexport default Profile"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}